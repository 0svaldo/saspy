

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Troubleshooting &mdash; saspy 2.1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="saspy 2.1.0 documentation" href="index.html"/>
        <link rel="next" title="License" href="license.html"/>
        <link rel="prev" title="Contributing new methods" href="adding-procedures.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> saspy
          

          
          </a>

          
            
            
              <div class="version">
                2.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuring SASPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced-topics.html">Advanced topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="adding-procedures.html">Contributing new methods</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#connection-and-configuration-issues">Connection and configuration issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#common-diagnostics">Common diagnostics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stdio">STDIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stdio-over-ssh">STDIO over SSH</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iom">IOM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#problems-running-code">Problems running code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#my-model-didn-t-run">My model didn&#8217;t run</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">saspy</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Troubleshooting</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/troubleshooting.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="troubleshooting">
<h1>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h1>
<p>This chapter covers troubleshooting procedures with SASPy. While we don&#8217;t expect you to have trouble,
there are some cases where you might not have everything working right. We&#8217;ve tried to provide an easy reference
for diagnosing and fixing those issues here.</p>
<div class="section" id="connection-and-configuration-issues">
<h2>Connection and configuration issues<a class="headerlink" href="#connection-and-configuration-issues" title="Permalink to this headline">¶</a></h2>
<p>Although setting up and configuring SASPy is pretty simple, if you do have something not quite right, it
may be hard to figure out what&#8217;s wrong. That&#8217;s when you come to this chapter.</p>
<p>We&#8217;ve added quite a bit of self diagnostics and error messages for many of the likely issues that can
happen trying to start up a connection to SAS. Each access method has its own set of usual suspects. With a
little help and explaination here, you can probably diagnose and correct any issue you might have.</p>
<p>Problems in this category will be when using the saspy.SASsession() method to connect to a SAS session.
The very first thing to look at is your sascfg.py file (in the saspy instalation). This is where the
configurations definition are. The file itself has documentation and so does <a class="reference internal" href="configuration.html"><span class="doc">Configuring SASPy</span></a>.</p>
<div class="section" id="common-diagnostics">
<h3>Common diagnostics<a class="headerlink" href="#common-diagnostics" title="Permalink to this headline">¶</a></h3>
<p>Although each access method has its own ways something can go wrong, there are some common diagnostics
you will get and can use to track down the issue.</p>
<p>The first is that if the SASsession() method fails, it will return any erros it can, as well as the
actual command it was trying to run to connect to SAS. That will vary with access method, but in each
case, you can cut-n-paste that command into a shell on the machine where SASPy (python) is running
and that may provide more diagnostics and error messages that SASPy may have displayed.</p>
<p>For instance, here&#8217;s a very simple case using the STDIO access method on a local linux machine. The
Configuration Definition is nothing but a valid path which should work.</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">default</span>  <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;saspath&#39;</span><span class="p">:</span> <span class="s1">&#39;/opt/sasinside/SASHome/SASFoundation/9.4/bin/sas_u8&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>When I try to run I get the following:</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">Linux</span><span class="o">-</span><span class="mi">1</span><span class="o">&gt;</span> <span class="n">python3</span><span class="o">.</span><span class="mi">5</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">saspy</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sas</span> <span class="o">=</span> <span class="n">saspy</span><span class="o">.</span><span class="n">SASsession</span><span class="p">()</span>

<span class="n">SAS</span> <span class="n">Connection</span> <span class="n">failed</span><span class="o">.</span> <span class="n">No</span> <span class="n">connection</span> <span class="n">established</span><span class="o">.</span> <span class="n">Double</span> <span class="n">check</span> <span class="n">you</span> <span class="n">settings</span> <span class="ow">in</span> <span class="n">sascfg</span><span class="o">.</span><span class="n">py</span> <span class="n">file</span><span class="o">.</span>

<span class="n">Attempted</span> <span class="n">to</span> <span class="n">run</span> <span class="n">program</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">sasinside</span><span class="o">/</span><span class="n">SASHome</span><span class="o">/</span><span class="n">SASFoundation</span><span class="o">/</span><span class="mf">9.4</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sas_u8</span> <span class="k">with</span> <span class="n">the</span> <span class="n">following</span> <span class="n">parameters</span><span class="p">:</span>
<span class="p">[</span><span class="s1">&#39;/opt/sasinside/SASHome/SASFoundation/9.4/bin/sas_u8&#39;</span><span class="p">,</span> <span class="s1">&#39;-nodms&#39;</span><span class="p">,</span> <span class="s1">&#39;-stdio&#39;</span><span class="p">,</span> <span class="s1">&#39;-terminal&#39;</span><span class="p">,</span> <span class="s1">&#39;-nosyntaxcheck&#39;</span><span class="p">,</span> <span class="s1">&#39;-pagesize&#39;</span><span class="p">,</span> <span class="s1">&#39;MAX&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">]</span>

<span class="n">Try</span> <span class="n">running</span> <span class="n">the</span> <span class="n">following</span> <span class="n">command</span> <span class="p">(</span><span class="n">where</span> <span class="n">SASPy</span> <span class="ow">is</span> <span class="n">running</span><span class="p">)</span> <span class="n">manually</span> <span class="n">to</span> <span class="n">see</span> <span class="k">if</span> <span class="n">you</span> <span class="n">can</span> <span class="n">get</span> <span class="n">more</span> <span class="n">information</span> <span class="n">on</span> <span class="n">what</span> <span class="n">went</span> <span class="n">wrong</span><span class="p">:</span>
<span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">sasinside</span><span class="o">/</span><span class="n">SASHome</span><span class="o">/</span><span class="n">SASFoundation</span><span class="o">/</span><span class="mf">9.4</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sas_u8</span> <span class="o">-</span><span class="n">nodms</span> <span class="o">-</span><span class="n">stdio</span> <span class="o">-</span><span class="n">terminal</span> <span class="o">-</span><span class="n">nosyntaxcheck</span> <span class="o">-</span><span class="n">pagesize</span> <span class="n">MAX</span>

<span class="n">No</span> <span class="n">SAS</span> <span class="n">process</span> <span class="n">attached</span><span class="o">.</span> <span class="n">SAS</span> <span class="n">process</span> <span class="n">has</span> <span class="n">terminated</span> <span class="n">unexpectedly</span><span class="o">.</span>
</pre></div>
</div>
<p>I can see from that error it didn&#8217;t work, but it didn&#8217;t really tell me why or what to do about it. Well,
it did say I should try running that command to see if I could get better diagnostics. What the heck, let&#8217;s try:</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">Linux</span><span class="o">-</span><span class="mi">1</span><span class="o">&gt;</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">sasinside</span><span class="o">/</span><span class="n">SASHome</span><span class="o">/</span><span class="n">SASFoundation</span><span class="o">/</span><span class="mf">9.4</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sas_u8</span> <span class="o">-</span><span class="n">nodms</span> <span class="o">-</span><span class="n">stdio</span> <span class="o">-</span><span class="n">terminal</span> <span class="o">-</span><span class="n">nosyntaxcheck</span> <span class="o">-</span><span class="n">pagesize</span> <span class="n">MAX</span>

<span class="n">ERROR</span><span class="p">:</span> <span class="n">The</span> <span class="n">current</span> <span class="n">date</span> <span class="n">of</span> <span class="n">Tuesday</span><span class="p">,</span> <span class="n">March</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">2017</span> <span class="ow">is</span> <span class="n">past</span> <span class="n">the</span> <span class="n">final</span>
<span class="n">ERROR</span><span class="p">:</span> <span class="n">expiration</span> <span class="n">date</span> <span class="k">for</span> <span class="n">your</span> <span class="n">SAS</span> <span class="n">system</span><span class="p">,</span> <span class="n">which</span> <span class="ow">is</span> <span class="n">Monday</span><span class="p">,</span> <span class="n">January</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">2017.</span>
<span class="n">ERROR</span><span class="p">:</span> <span class="n">Please</span> <span class="n">contact</span> <span class="n">your</span> <span class="n">SAS</span> <span class="n">Installation</span> <span class="n">Representative</span> <span class="n">to</span> <span class="n">obtain</span> <span class="n">your</span>
<span class="n">ERROR</span><span class="p">:</span> <span class="n">updated</span> <span class="n">SAS</span> <span class="n">Installation</span> <span class="n">Data</span> <span class="p">(</span><span class="n">SID</span><span class="p">)</span> <span class="n">file</span><span class="p">,</span> <span class="n">which</span> <span class="n">includes</span> <span class="n">SETINIT</span>
<span class="n">ERROR</span><span class="p">:</span> <span class="n">information</span><span class="o">.</span>
<span class="n">To</span> <span class="n">locate</span> <span class="n">the</span> <span class="n">name</span> <span class="n">of</span> <span class="n">your</span> <span class="n">SAS</span> <span class="n">Installation</span> <span class="n">Representative</span> <span class="n">go</span> <span class="n">to</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">support</span><span class="o">.</span><span class="n">sas</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">repfinder</span> <span class="ow">and</span> <span class="n">provide</span> <span class="n">your</span> <span class="n">site</span> <span class="n">number</span> <span class="mi">70068118</span> <span class="ow">and</span>
<span class="n">company</span> <span class="n">name</span> <span class="k">as</span> <span class="n">Linux</span> <span class="k">for</span> <span class="n">x64</span> <span class="n">All</span> <span class="n">Compatible</span> <span class="n">Non</span><span class="o">-</span><span class="n">Planning</span> <span class="n">Products</span><span class="o">.</span> <span class="n">On</span> <span class="n">the</span>
<span class="n">SAS</span> <span class="n">REP</span> <span class="nb">list</span> <span class="n">provided</span><span class="p">,</span> <span class="n">locate</span> <span class="n">the</span> <span class="n">REP</span> <span class="k">for</span> <span class="n">operating</span> <span class="n">system</span> <span class="n">LIN</span> <span class="n">X64</span><span class="o">.</span>
<span class="n">ERROR</span><span class="p">:</span> <span class="n">Initialization</span> <span class="n">of</span> <span class="n">setinit</span> <span class="n">information</span> <span class="kn">from</span> <span class="nn">SASHELP</span> <span class="n">failed</span><span class="o">.</span>
<span class="n">NOTE</span><span class="p">:</span> <span class="n">Unable</span> <span class="n">to</span> <span class="n">initialize</span> <span class="n">the</span> <span class="n">options</span> <span class="n">subsystem</span><span class="o">.</span>
<span class="n">ERROR</span><span class="p">:</span> <span class="p">(</span><span class="n">SASXKINI</span><span class="p">):</span> <span class="n">PHASE</span> <span class="mi">3</span> <span class="n">KERNEL</span> <span class="n">INITIALIZATION</span> <span class="n">FAILED</span><span class="o">.</span>
<span class="n">ERROR</span><span class="p">:</span> <span class="n">Unable</span> <span class="n">to</span> <span class="n">initialize</span> <span class="n">the</span> <span class="n">SAS</span> <span class="n">kernel</span><span class="o">.</span>
</pre></div>
</div>
<p>Well go figure. My SAS has expired.</p>
<p>The same process can be used with other access methods. Now we&#8217;ll look at what can be misconfiogured for the
various acces methods, and see what the erros look like and how you can tell what the problem is.</p>
</div>
<div class="section" id="stdio">
<h3>STDIO<a class="headerlink" href="#stdio" title="Permalink to this headline">¶</a></h3>
<p>There are only a couple of things that can go wrong here. First, this only works on Unix, not Windows,
so if you&#8217;re having problems getting to to work from Windows, well there you go.
Second, the only thing you really need to have right is the path to the SAS startup script in your SAS
instalation. The &#8216;saspath&#8217; value in your configuration definition needs to be correct and accessible.</p>
</div>
<div class="section" id="stdio-over-ssh">
<h3>STDIO over SSH<a class="headerlink" href="#stdio-over-ssh" title="Permalink to this headline">¶</a></h3>
<p>The same issues in STDIO above are true here, with one extra component; ssh. This method is still only
valid on Unix, not Windows (both client side and SAS side). The &#8216;saspath&#8217; value has to be right, and
it has to be right on the Remote Unix machine that you are ssh&#8217;ing to. That might not be the same path
as on your local Unix SAS deployment.</p>
<p>Secondly, this requires that you have passwordless ssh configured and working for each user that will
be connecting between the local and remote machines. That can be diagnosed independant of SASPy or python.
If the connection cannot be made, you should see that error message with the command that SASPy was
trying to execute, and you can run it to get better diagnostic error messages that can tell you if its
a problem with your ssh credentials, the machine you&#8217;re trying to reach isn&#8217;t listening, or any other
problem there might be.</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">saspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sas</span> <span class="o">=</span> <span class="n">saspy</span><span class="o">.</span><span class="n">SASsession</span><span class="p">(</span><span class="n">cfgname</span><span class="o">=</span><span class="s1">&#39;ssh&#39;</span><span class="p">)</span>
<span class="go">SAS Connection failed. No connection established. Double check you settings in sascfg.py file.</span>

<span class="go">Attempted to run program /usr/bin/ssh with the following parameters:[&#39;/usr/bin/ssh&#39;, &#39;-t&#39;, &#39;tom64-2&#39;, &#39;/opt/sasinside/SASHome/SASFoundation/9.4/bin/sas_en&#39;,</span>
<span class="go">                                                                     &#39;-fullstimer&#39;, &#39;-nodms&#39;, &#39;-stdio&#39;, &#39;-terminal&#39;, &#39;-nosyntaxcheck&#39;, &#39;-pagesize&#39;, &#39;MAX&#39;, &#39;&#39;]</span>

<span class="go">Try running the following command (where saspy is running) manually to see if you can get more information on what went wrong:</span>
<span class="go">/usr/bin/ssh -t tom64-2 /opt/sasinside/SASHome/SASFoundation/9.4/bin/sas_en -fullstimer -nodms -stdio -terminal -nosyntaxcheck -pagesize MAX</span>

<span class="go">No SAS process attached. SAS process has terminated unexpectedly.</span>
</pre></div>
</div>
<p>So, running that command can tell me what the problem is.</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">Linux</span><span class="o">-</span><span class="mi">1</span><span class="o">&gt;</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">ssh</span> <span class="o">-</span><span class="n">t</span> <span class="n">Linux</span><span class="o">-</span><span class="mi">2</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">sasinside</span><span class="o">/</span><span class="n">SASHome</span><span class="o">/</span><span class="n">SASFoundation</span><span class="o">/</span><span class="mf">9.4</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sas_en</span> <span class="o">-</span><span class="n">fullstimer</span> <span class="o">-</span><span class="n">nodms</span> <span class="o">-</span><span class="n">stdio</span> <span class="o">-</span><span class="n">terminal</span> <span class="o">-</span><span class="n">nosyntaxcheck</span> <span class="o">-</span><span class="n">pagesize</span> <span class="n">MAX</span>
<span class="n">ssh</span><span class="p">:</span> <span class="n">Could</span> <span class="ow">not</span> <span class="n">resolve</span> <span class="n">hostname</span> <span class="n">Linux</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span> <span class="n">Name</span> <span class="ow">or</span> <span class="n">service</span> <span class="ow">not</span> <span class="n">known</span>

<span class="ow">or</span> <span class="n">maybe</span> <span class="n">another</span> <span class="n">problem</span><span class="p">:</span>

<span class="n">Linux</span><span class="o">-</span><span class="mi">1</span><span class="o">&gt;</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">ssh</span> <span class="o">-</span><span class="n">t</span> <span class="n">Linux</span><span class="o">-</span><span class="mi">2</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">sasinside</span><span class="o">/</span><span class="n">SASHome</span><span class="o">/</span><span class="n">SASFoundation</span><span class="o">/</span><span class="mf">9.4</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sas_en</span> <span class="o">-</span><span class="n">fullstimer</span> <span class="o">-</span><span class="n">nodms</span> <span class="o">-</span><span class="n">stdio</span> <span class="o">-</span><span class="n">terminal</span> <span class="o">-</span><span class="n">nosyntaxcheck</span> <span class="o">-</span><span class="n">pagesize</span> <span class="n">MAX</span>
<span class="n">ssh</span><span class="p">:</span> <span class="n">connect</span> <span class="n">to</span> <span class="n">host</span> <span class="n">Linux</span><span class="o">-</span><span class="mi">2</span> <span class="n">port</span> <span class="mi">22</span><span class="p">:</span> <span class="n">Connection</span> <span class="n">refused</span>

<span class="ow">or</span> <span class="k">if</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">that</span> <span class="n">you</span> <span class="n">do</span> <span class="ow">not</span> <span class="n">have</span> <span class="n">passwordless</span> <span class="n">ssh</span> <span class="nb">set</span> <span class="n">up</span><span class="p">,</span> <span class="n">even</span> <span class="n">though</span> <span class="n">you</span> <span class="n">can</span> <span class="n">connect</span> <span class="n">to</span> <span class="n">that</span> <span class="n">machine</span><span class="p">,</span> <span class="n">you</span> <span class="n">might</span> <span class="n">see</span> <span class="n">this</span> <span class="p">(</span><span class="n">prompting</span> <span class="n">you</span> <span class="k">for</span> <span class="n">pw</span><span class="p">)</span>

<span class="n">Linux</span><span class="o">-</span><span class="mi">1</span><span class="o">&gt;</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">ssh</span> <span class="o">-</span><span class="n">t</span> <span class="n">Linux</span><span class="o">-</span><span class="mi">2</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">sasinside</span><span class="o">/</span><span class="n">SASHome</span><span class="o">/</span><span class="n">SASFoundation</span><span class="o">/</span><span class="mf">9.4</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sas_en</span> <span class="o">-</span><span class="n">fullstimer</span> <span class="o">-</span><span class="n">nodms</span> <span class="o">-</span><span class="n">stdio</span> <span class="o">-</span><span class="n">terminal</span> <span class="o">-</span><span class="n">nosyntaxcheck</span> <span class="o">-</span><span class="n">pagesize</span> <span class="n">MAX</span>
<span class="n">user</span><span class="nd">@Linux</span><span class="o">-</span><span class="mi">2</span><span class="s1">&#39;s password:</span>
<span class="n">Permission</span> <span class="n">denied</span><span class="p">,</span> <span class="n">please</span> <span class="k">try</span> <span class="n">again</span><span class="o">.</span>
<span class="n">user</span><span class="nd">@Linux</span><span class="o">-</span><span class="mi">2</span><span class="s1">&#39;s password:</span>
<span class="n">Permission</span> <span class="n">denied</span><span class="p">,</span> <span class="n">please</span> <span class="k">try</span> <span class="n">again</span><span class="o">.</span>
<span class="n">user</span><span class="nd">@Linux</span><span class="o">-</span><span class="mi">2</span><span class="s1">&#39;s password:</span>
<span class="n">Permission</span> <span class="n">denied</span> <span class="p">(</span><span class="n">publickey</span><span class="p">,</span><span class="n">gssapi</span><span class="o">-</span><span class="n">keyex</span><span class="p">,</span><span class="n">gssapi</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">mic</span><span class="p">,</span><span class="n">password</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="iom">
<h3>IOM<a class="headerlink" href="#iom" title="Permalink to this headline">¶</a></h3>
<p>This access method has the most possibilities of having something misconfigured, because it has more
components that all have to connect together. But, it also has the most diagnostics to help you out.
There are basically two possibilities where something can go wrong; Java or IOM. Lets look at Java first.</p>
<p>There are two things that are likely to be the problem.</p>
<blockquote>
<div><ol class="arabic simple">
<li>Java isn&#8217;t installed or configured right, or you don&#8217;t have the right java command for &#8216;java&#8217; in your Configuration Definition</li>
<li>You don&#8217;t have your classpath right, or don&#8217;t have the right jars.</li>
</ol>
</div></blockquote>
<p>SASPy will catch Java startup problems and return the system error(s) that it got. And, like in the cases above,
you will still get the exact command trying to be run, so you can always run it too and see if there are any more diagnostics
and error messages.</p>
<p>Here an example of the first case, a bad path to the java command. This example is from Jupyter on Windows.</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">sas</span> <span class="o">=</span> <span class="n">saspy</span><span class="o">.</span><span class="n">SASsession</span><span class="p">(</span><span class="n">cfgname</span><span class="o">=</span><span class="s1">&#39;winlocal&#39;</span><span class="p">,</span> <span class="n">results</span><span class="o">=</span><span class="s1">&#39;HTML&#39;</span><span class="p">,</span> <span class="n">java</span><span class="o">=</span><span class="s1">&#39;c:\java&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">OS</span> <span class="n">Error</span> <span class="n">was</span><span class="p">:</span>
<span class="n">The</span> <span class="n">system</span> <span class="n">cannot</span> <span class="n">find</span> <span class="n">the</span> <span class="n">file</span> <span class="n">specified</span>

<span class="n">SAS</span> <span class="n">Connection</span> <span class="n">failed</span><span class="o">.</span> <span class="n">No</span> <span class="n">connection</span> <span class="n">established</span><span class="o">.</span> <span class="n">Double</span> <span class="n">check</span> <span class="n">you</span> <span class="n">settings</span> <span class="ow">in</span> <span class="n">sascfg</span><span class="o">.</span><span class="n">py</span> <span class="n">file</span><span class="o">.</span>

<span class="n">Attempted</span> <span class="n">to</span> <span class="n">run</span> <span class="n">program</span> <span class="n">c</span><span class="p">:</span>\<span class="n">java</span> <span class="k">with</span> <span class="n">the</span> <span class="n">following</span> <span class="n">parameters</span><span class="p">:[</span><span class="s1">&#39;c:</span><span class="se">\\</span><span class="s1">java&#39;</span><span class="p">,</span> <span class="s1">&#39;-classpath&#39;</span><span class="p">,</span> <span class="s1">&#39;C:</span><span class="se">\\</span><span class="s1">java</span><span class="se">\\</span><span class="s1">sas.svc.connection.jar;C:</span><span class="se">\\</span><span class="s1">java</span><span class="se">\\</span><span class="s1">log4j.jar;C:</span><span class="se">\\</span><span class="s1">jars</span><span class="se">\\</span><span class="s1">sas.security.sspi.jar;C:</span><span class="se">\\</span><span class="s1">jars</span><span class="se">\\</span><span class="s1">saspyiom.jar&#39;</span><span class="p">,</span>
                                                              <span class="s1">&#39;pyiom.saspy2j&#39;</span><span class="p">,</span> <span class="s1">&#39;-host&#39;</span><span class="p">,</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="s1">&#39;-stdinport&#39;</span><span class="p">,</span> <span class="s1">&#39;59110&#39;</span><span class="p">,</span> <span class="s1">&#39;-stdoutport&#39;</span><span class="p">,</span> <span class="s1">&#39;59111&#39;</span><span class="p">,</span> <span class="s1">&#39;-stderrport&#39;</span><span class="p">,</span> <span class="s1">&#39;59112&#39;</span><span class="p">,</span> <span class="s1">&#39;-zero&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">]</span>

<span class="n">If</span> <span class="n">no</span> <span class="n">OS</span> <span class="n">Error</span> <span class="n">above</span><span class="p">,</span> <span class="k">try</span> <span class="n">running</span> <span class="n">the</span> <span class="n">following</span> <span class="n">command</span> <span class="p">(</span><span class="n">where</span> <span class="n">saspy</span> <span class="ow">is</span> <span class="n">running</span><span class="p">)</span> <span class="n">manually</span> <span class="n">to</span> <span class="n">see</span> <span class="n">what</span> <span class="ow">is</span> <span class="n">wrong</span><span class="p">:</span>
<span class="n">c</span><span class="p">:</span>\<span class="n">java</span> <span class="o">-</span><span class="n">classpath</span> <span class="s2">&quot;C:\java\sas.svc.connection.jar;C:\java\log4j.ja;C:\jars\sas.security.sspi.jar;C:\jars\saspyiom.jar&quot;</span> <span class="n">pyiom</span><span class="o">.</span><span class="n">saspy2j</span> <span class="o">-</span><span class="n">host</span> <span class="n">localhost</span> <span class="o">-</span><span class="n">stdinport</span> <span class="mi">59107</span> <span class="o">-</span><span class="n">stdoutport</span> <span class="mi">59108</span> <span class="o">-</span><span class="n">stderrport</span> <span class="mi">59109</span> <span class="o">-</span><span class="n">zero</span>

<span class="n">No</span> <span class="n">SAS</span> <span class="n">process</span> <span class="n">attached</span><span class="o">.</span> <span class="n">SAS</span> <span class="n">process</span> <span class="n">has</span> <span class="n">terminated</span> <span class="n">unexpectedly</span><span class="o">.</span>
</pre></div>
</div>
<p>And if we submit that command, we get a slightly different error message than SASPy got, but it shows the same problem:
there is no c:\java command to execute.</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span><span class="o">&gt;</span> <span class="n">c</span><span class="p">:</span>\<span class="n">java</span> <span class="o">-</span><span class="n">classpath</span> <span class="s2">&quot;C:\jars\sas.svc.connection.jar;C:\jars\log4j.jar;C:\jars\sas.security.sspi.jar;C:\jar\sas.core.jar;C:\jars\saspyiom.jar&quot;</span> <span class="n">pyiom</span><span class="o">.</span><span class="n">saspy2j</span> <span class="o">-</span><span class="n">host</span> <span class="n">localhost</span> <span class="o">-</span><span class="n">stdinport</span> <span class="mi">52061</span> <span class="o">-</span><span class="n">stdoutport</span> <span class="mi">52062</span> <span class="o">-</span><span class="n">stderrport</span> <span class="mi">52063</span> <span class="o">-</span><span class="n">zero</span>
<span class="s1">&#39;c:\java&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">recognized</span> <span class="k">as</span> <span class="n">an</span> <span class="n">internal</span> <span class="ow">or</span> <span class="n">external</span> <span class="n">command</span><span class="p">,</span> <span class="n">operable</span> <span class="n">program</span> <span class="ow">or</span> <span class="n">batch</span> <span class="n">file</span><span class="o">.</span>
</pre></div>
</div>
<p>So what about classpath problems? Here are two cases. The first is just the wrong path altogether, so Java won&#8217;t be able to find the main class to run.
The second case has a valid classpath, but is missing one of the IOM jars.</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">sas</span> <span class="o">=</span> <span class="n">saspy</span><span class="o">.</span><span class="n">SASsession</span><span class="p">(</span><span class="n">cfgname</span><span class="o">=</span><span class="s1">&#39;winlocal&#39;</span><span class="p">,</span> <span class="n">results</span><span class="o">=</span><span class="s1">&#39;HTML&#39;</span><span class="p">,</span> <span class="n">classpath</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">Java</span> <span class="n">Error</span><span class="p">:</span>
<span class="n">Error</span><span class="p">:</span> <span class="n">Could</span> <span class="ow">not</span> <span class="n">find</span> <span class="ow">or</span> <span class="n">load</span> <span class="n">main</span> <span class="k">class</span> <span class="nc">pyiom</span><span class="o">.</span><span class="n">saspy2j</span>


<span class="n">Subprocess</span> <span class="n">failed</span> <span class="n">to</span> <span class="n">start</span><span class="o">.</span> <span class="n">Double</span> <span class="n">check</span> <span class="n">you</span> <span class="n">settings</span> <span class="ow">in</span> <span class="n">sascfg</span><span class="o">.</span><span class="n">py</span> <span class="n">file</span><span class="o">.</span>

<span class="n">Attempted</span> <span class="n">to</span> <span class="n">run</span> <span class="n">program</span> <span class="n">java</span> <span class="k">with</span> <span class="n">the</span> <span class="n">following</span> <span class="n">parameters</span><span class="p">:[</span><span class="s1">&#39;java&#39;</span><span class="p">,</span> <span class="s1">&#39;-classpath&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;pyiom.saspy2j&#39;</span><span class="p">,</span> <span class="s1">&#39;-host&#39;</span><span class="p">,</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="s1">&#39;-stdinport&#39;</span><span class="p">,</span> <span class="s1">&#39;59102&#39;</span><span class="p">,</span> <span class="s1">&#39;-stdoutport&#39;</span><span class="p">,</span> <span class="s1">&#39;59103&#39;</span><span class="p">,</span> <span class="s1">&#39;-stderrport&#39;</span><span class="p">,</span> <span class="s1">&#39;59104&#39;</span><span class="p">,</span> <span class="s1">&#39;-zero&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">]</span>

<span class="n">If</span> <span class="n">no</span> <span class="n">Java</span> <span class="n">Error</span> <span class="n">above</span><span class="p">,</span> <span class="k">try</span> <span class="n">running</span> <span class="n">the</span> <span class="n">following</span> <span class="n">command</span> <span class="p">(</span><span class="n">where</span> <span class="n">saspy</span> <span class="ow">is</span> <span class="n">running</span><span class="p">)</span> <span class="n">manually</span> <span class="n">to</span> <span class="n">see</span> <span class="k">if</span> <span class="n">it</span><span class="s1">&#39;s a problem starting Java:</span>
<span class="n">java</span> <span class="o">-</span><span class="n">classpath</span> <span class="s2">&quot;.&quot;</span> <span class="n">pyiom</span><span class="o">.</span><span class="n">saspy2j</span> <span class="o">-</span><span class="n">host</span> <span class="n">localhost</span> <span class="o">-</span><span class="n">stdinport</span> <span class="mi">59102</span> <span class="o">-</span><span class="n">stdoutport</span> <span class="mi">59103</span> <span class="o">-</span><span class="n">stderrport</span> <span class="mi">59104</span> <span class="o">-</span><span class="n">zero</span>

<span class="n">No</span> <span class="n">SAS</span> <span class="n">process</span> <span class="n">attached</span><span class="o">.</span> <span class="n">SAS</span> <span class="n">process</span> <span class="n">has</span> <span class="n">terminated</span> <span class="n">unexpectedly</span><span class="o">.</span>
</pre></div>
</div>
<p>And if we submit that command, we see the same error as SASPy reported.</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span>\<span class="o">&gt;</span><span class="n">java</span> <span class="o">-</span><span class="n">classpath</span> <span class="s2">&quot;.&quot;</span> <span class="n">pyiom</span><span class="o">.</span><span class="n">saspy2j</span> <span class="o">-</span><span class="n">host</span> <span class="n">localhost</span> <span class="o">-</span><span class="n">stdinport</span> <span class="mi">59102</span> <span class="o">-</span><span class="n">stdoutport</span> <span class="mi">59103</span> <span class="o">-</span><span class="n">stderrport</span> <span class="mi">59104</span> <span class="o">-</span><span class="n">zero</span>
<span class="n">Error</span><span class="p">:</span> <span class="n">Could</span> <span class="ow">not</span> <span class="n">find</span> <span class="ow">or</span> <span class="n">load</span> <span class="n">main</span> <span class="k">class</span> <span class="nc">pyiom</span><span class="o">.</span><span class="n">saspy2j</span>
</pre></div>
</div>
<p>Now for one missing jar; let&#8217;s comment out one of the IOM jars:</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span>cp  =  &quot;C:\jars\sas.svc.connection.jar&quot;
cp += &quot;;C:\jars\log4j.jar&quot;
cp += &quot;;C:\jars\sas.security.sspi.jar&quot;
#cp += &quot;;C:\jars\sas.core.jar&quot;
cp += &quot;;C:\jars\saspyiom.jar&quot;

sas = saspy.SASsession(cfgname=&#39;winlocal&#39;, classpath=cp)

Java Error:
java.lang.NoClassDefFoundError: com/sas/util/ChainedExceptionInterface
        at java.lang.ClassLoader.defineClass1(Native Method)
        at java.lang.ClassLoader.defineClass(Unknown Source)
        at java.security.SecureClassLoader.defineClass(Unknown Source)
        at java.net.URLClassLoader.defineClass(Unknown Source)
        at java.net.URLClassLoader.access$100(Unknown Source)
        at java.net.URLClassLoader$1.run(Unknown Source)
        at java.net.URLClassLoader$1.run(Unknown Source)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
        at java.lang.Class.getDeclaredMethods0(Native Method)
        at java.lang.Class.privateGetDeclaredMethods(Unknown Source)
        at java.lang.Class.privateGetMethodRecursive(Unknown Source)
        at java.lang.Class.getMethod0(Unknown Source)
        at java.lang.Class.getMethod(Unknown Source)
        at sun.launcher.LauncherHelper.validateMainClass(Unknown Source)
        at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)
Caused by: java.lang.ClassNotFoundException: com.sas.util.ChainedExceptionInterface
        at java.net.URLClassLoader.findClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
        ... 19 more
Error: A JNI error has occurred, please check your installation and try again
Exception in thread &quot;main&quot;

Subprocess failed to start. Double check you settings in sascfg.py file.

Attempted to run program java with the following parameters:[&#39;java&#39;, &#39;-classpath&#39;, &#39;C:\\java\\sas.svc.connection.jar;C:\\java\\log4j.jar;C:\\jars\\sas.security.sspi.jar;C:\\jars\\saspyiom.jar&#39;,
&#39;pyiom.saspy2j&#39;, &#39;-host&#39;, &#39;localhost&#39;, &#39;-stdinport&#39;, &#39;59110&#39;, &#39;-stdoutport&#39;, &#39;59111&#39;, &#39;-stderrport&#39;, &#39;59112&#39;, &#39;-zero&#39;, &#39;&#39;]

If no Java Error above, try running the following command (where saspy is running) manually to see if it&#39;s a problem starting Java:
java -classpath &quot;C:\java\sas.svc.connection.jar;C:\java\log4j.jar;C:\jars\sas.security.sspi.jar;C:\jars\saspyiom.jar&quot; pyiom.saspy2j -host localhost -stdinport 59110 -stdoutport 59111 -stderrport 59112 -zero

No SAS process attached. SAS process has terminated unexpectedly.
</pre></div>
</div>
<p>And if we run that command ourselves... Same error as SASPy reported.</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span>C:\&gt; java -classpath &quot;C:\java\sas.svc.connection.jar;C:\java\log4j.jar;C:\jars\sas.security.sspi.jar;C:\jars\saspyiom.jar&quot; pyiom.saspy2j -host localhost -stdinport 59110 -stdoutport 59111 -stderrport 59112 -zero

Error: A JNI error has occurred, please check your installation and try again
Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/sas/util/ChainedExceptionInterface
        at java.lang.ClassLoader.defineClass1(Native Method)
        at java.lang.ClassLoader.defineClass(Unknown Source)
        at java.security.SecureClassLoader.defineClass(Unknown Source)
        at java.net.URLClassLoader.defineClass(Unknown Source)
        at java.net.URLClassLoader.access$100(Unknown Source)
        at java.net.URLClassLoader$1.run(Unknown Source)
        at java.net.URLClassLoader$1.run(Unknown Source)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
        at java.lang.Class.getDeclaredMethods0(Native Method)
        at java.lang.Class.privateGetDeclaredMethods(Unknown Source)
        at java.lang.Class.privateGetMethodRecursive(Unknown Source)
        at java.lang.Class.getMethod0(Unknown Source)
        at java.lang.Class.getMethod(Unknown Source)
        at sun.launcher.LauncherHelper.validateMainClass(Unknown Source)
        at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)
Caused by: java.lang.ClassNotFoundException: com.sas.util.ChainedExceptionInterface
        at java.net.URLClassLoader.findClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
        ... 19 more
</pre></div>
</div>
<p>If you run the Java command and you see an error similar to the following, about a socket connection failure, that suggests that your classpath is correct
and that the problem might be connecting to the IOM server. That error shows that java came up and is running code from saspyiom.jar. It is trying to connect
back to the saspy python process, which isn&#8217;t running, thus the connection error. But it means, at least, saspyiom.jar was found.</p>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="n">java</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">ConnectException</span><span class="p">:</span> <span class="n">Connection</span> <span class="n">refused</span>
        <span class="n">at</span> <span class="n">java</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">PlainSocketImpl</span><span class="o">.</span><span class="n">socketConnect</span><span class="p">(</span><span class="n">Native</span> <span class="n">Method</span><span class="p">)</span>
        <span class="n">at</span> <span class="n">java</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">AbstractPlainSocketImpl</span><span class="o">.</span><span class="n">doConnect</span><span class="p">(</span><span class="n">AbstractPlainSocketImpl</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">350</span><span class="p">)</span>
        <span class="n">at</span> <span class="n">java</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">AbstractPlainSocketImpl</span><span class="o">.</span><span class="n">connectToAddress</span><span class="p">(</span><span class="n">AbstractPlainSocketImpl</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">206</span><span class="p">)</span>
        <span class="n">at</span> <span class="n">java</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">AbstractPlainSocketImpl</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">AbstractPlainSocketImpl</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">188</span><span class="p">)</span>
        <span class="n">at</span> <span class="n">java</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">SocksSocketImpl</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">SocksSocketImpl</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">392</span><span class="p">)</span>
        <span class="n">at</span> <span class="n">java</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">Socket</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">Socket</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">589</span><span class="p">)</span>
        <span class="n">at</span> <span class="n">java</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">Socket</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">Socket</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">538</span><span class="p">)</span>
        <span class="n">at</span> <span class="n">java</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">Socket</span><span class="o">.&lt;</span><span class="n">init</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Socket</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">434</span><span class="p">)</span>
        <span class="n">at</span> <span class="n">java</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">Socket</span><span class="o">.&lt;</span><span class="n">init</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Socket</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">211</span><span class="p">)</span>
        <span class="n">at</span> <span class="n">pyiom</span><span class="o">.</span><span class="n">saspy2j</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">saspy2j</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">109</span><span class="p">)</span>
<span class="ne">Exception</span> <span class="ow">in</span> <span class="n">thread</span> <span class="s2">&quot;main&quot;</span> <span class="n">java</span><span class="o">.</span><span class="n">lang</span><span class="o">.</span><span class="n">NullPointerException</span>
        <span class="n">at</span> <span class="n">pyiom</span><span class="o">.</span><span class="n">saspy2j</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">saspy2j</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">116</span><span class="p">)</span>
</pre></div>
</div>
<p>So if Java is coming up, but you still fail to connect, then it is a problem connecting to IOM.
SASPy will report the IOM Error message followed by the command that was trying to to run.
There are a few obvious misconfigurations that can happen here.</p>
<blockquote>
<div><ol class="arabic simple">
<li>The &#8216;iomhost&#8217; or &#8216;iomport&#8217; you&#8217;ve specified aren&#8217;t right, or the server isn&#8217;t up and available to be connected to.</li>
<li>Your credentials were specifed wrong, or you don&#8217;t have permission to connect.</li>
<li>for Windows Local connection, you don&#8217;t have the path to the <em>sspiauth.dll</em> in yout System Path variable</li>
</ol>
</div></blockquote>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sas</span> <span class="o">=</span> <span class="n">saspy</span><span class="o">.</span><span class="n">SASsession</span><span class="p">(</span><span class="n">iomport</span><span class="o">=</span><span class="mi">333</span><span class="p">)</span> <span class="c1"># clearly the wrong port</span>

<span class="go">The application could not log on to the server &quot;Linux-1:333&quot;. No server is available at that port on that machine.</span>
<span class="go">SAS process has terminated unexpectedly. Pid State= (11195, 64000)</span>
<span class="go">SAS Connection failed. No connection established. Double check you settings in sascfg.py file.</span>

<span class="go">Attempted to run program /usr/bin/java with the following parameters:[&#39;/usr/bin/java&#39;, &#39;-classpath&#39;, &#39;/jars/sas.svc.connection.jar:/jars/log4j.jar:/jars/sas.security.sspi.jar:/jars/sas.core,jar:</span>
<span class="go">/jars/saspyiom.jar&#39;, &#39;pyiom.saspy2j&#39;, &#39;-host&#39;, &#39;localhost&#39;, &#39;-stdinport&#39;, &#39;45757&#39;, &#39;-stdoutport&#39;, &#39;57809&#39;, &#39;-stderrport&#39;, &#39;33153&#39;, &#39;-iomhost&#39;, &#39;Linux-1&#39;, &#39;-iomport&#39;, &#39;333&#39;, &#39;-user&#39;, &#39;user&#39;, &#39;&#39;]</span>

<span class="go">No SAS process attached. SAS process has terminated unexpectedly.</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sas</span> <span class="o">=</span> <span class="n">saspy</span><span class="o">.</span><span class="n">SASsession</span><span class="p">(</span><span class="n">omruser</span><span class="o">=</span><span class="s1">&#39;wrong_user&#39;</span><span class="p">)</span>

<span class="go">The application could not log on to the server &quot;Linux-1:8591&quot;. The user ID &quot;wrong_user&quot; or the password is incorrect.</span>
<span class="go">SAS process has terminated unexpectedly. Pid State= (11449, 64000)</span>
<span class="go">SAS Connection failed. No connection established. Double check you settings in sascfg.py file.</span>

<span class="go">Attempted to run program /usr/bin/java with the following parameters:[&#39;/usr/bin/java&#39;, &#39;-classpath&#39;, &#39;/jars/sas.svc.connection.jar:/jars/log4j.jar:/jars/sas.security.sspi.jar:/jars/sas.core,jar:</span>
<span class="go">/jars/saspyiom.jar&#39;, &#39;pyiom.saspy2j&#39;, &#39;-host&#39;, &#39;localhost&#39;, &#39;-stdinport&#39;, &#39;49660&#39;, &#39;-stdoutport&#39;, &#39;46794&#39;, &#39;-stderrport&#39;, &#39;51907&#39;, &#39;-iomhost&#39;, &#39;Linux-1&#39;, &#39;-iomport&#39;, &#39;8591&#39;, &#39;-user&#39;, &#39;wrong_user&#39;, &#39;&#39;]</span>

<span class="go">No SAS process attached. SAS process has terminated unexpectedly.</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">saspy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sas</span> <span class="o">=</span> <span class="n">saspy</span><span class="o">.</span><span class="n">SASsession</span><span class="p">()</span>

<span class="go">The native implementation module for the security package could not be found in the path.The native implementation module for the security package could not be found in the path.</span>
<span class="go">SAS process has terminated unexpectedly. RC from wait was: 4294967290</span>
<span class="go">SAS Connection failed. No connection established. Double check you settings in sascfg.py file.</span>

<span class="go">Attempted to run program java with the following parameters:[&#39;java&#39;, &#39;-classpath&#39;, &#39;C:\\java\\sas.svc.connection.jar;C:\\java\\log4j.jar;C:\\jars\\sas.security.sspi.jar;C:\\jars\\saspyiom.jar&#39;,</span>
<span class="go">&#39;pyiom.saspy2j&#39;, &#39;-host&#39;, &#39;localhost&#39;, &#39;-stdinport&#39;, &#39;59110&#39;, &#39;-stdoutport&#39;, &#39;59111&#39;, &#39;-stderrport&#39;, &#39;59112&#39;, &#39;-zero&#39;, &#39;&#39;]</span>

<span class="go">Be sure the path to sspiauth.dll is in your System PATH</span>

<span class="go">No SAS process attached. SAS process has terminated unexpectedly.</span>
</pre></div>
</div>
<p>So, hopefully this has shown you how to diagnose connection and configuration problems with SASPy. When you have things set up right, you shouldn&#8217;t
have any problems, it should just work!</p>
</div>
</div>
<div class="section" id="problems-running-code">
<h2>Problems running code<a class="headerlink" href="#problems-running-code" title="Permalink to this headline">¶</a></h2>
<div class="section" id="my-model-didn-t-run">
<h3>My model didn&#8217;t run<a class="headerlink" href="#my-model-didn-t-run" title="Permalink to this headline">¶</a></h3>
<p>When you run an analytical method there are a number of things that occur.
The goal is to have informative messages when things go wrong and in this section we&#8217;ll explain what his happening
and how to check the various stages</p>
<ol class="arabic">
<li><p class="first">Are the required parameters included?
Each analytical method has a set of required parameters (there are a few that have an empty set but
all the methods must have this specified).</p>
<p>The simplest way to find the required and optional parameters is to use the <cite>&#8216;?&#8217;</cite> functionality.</p>
<p>Here are two examples for the forest and hplogistic methods respectively:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>?ml.forest()
?stat.hplogistic()
</pre></div>
</div>
<p>The next best option is to use the <a class="reference internal" href="api.html"><span class="doc">API Reference</span></a> for the given method
Both ways will show you the set of required parameters and then the list of optional parameters. The requred set
and optional make up the complete set of parameters the method will take.</p>
<p>If you are missing required parameters you will receive a SyntaxError and processing will stop.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="ne">SyntaxError</span><span class="p">:</span> <span class="n">You</span> <span class="n">are</span> <span class="n">missing</span> <span class="mi">1</span> <span class="n">required</span> <span class="n">statements</span><span class="p">:</span>
<span class="p">{</span><span class="s1">&#39;model&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>Missing optional parameter will produce no warning.</p>
<p><strong>NOTE:</strong> The <cite>data</cite> parameter does not appear in the required set but it is required for all modeling methods.</p>
</li>
<li><p class="first">Do you have extra parameters
If you include parameters that are neither required <em>or</em> optional then will be removed but as a best practice
don&#8217;t test the system.</p>
</li>
<li><p class="first">Are the parameter the correct type
Parameters must be specified with the correct type. If you provided an invalid type you should recieve a
SyntaxWarning or SyntaxError and processing will stop.</p>
<p>Here are a few of the most common parametes and their valid types</p>
<ul class="simple">
<li>The <cite>data</cite> parameter must be a <a href="#id1"><span class="problematic" id="id2">`SASData`_</span></a> object</li>
<li>The <cite>model</cite> parameter is a str</li>
<li>The <cite>target</cite> and <cite>inputs</cite> can be str, list, or dict types</li>
<li>The <cite>nominals</cite> must be a list type</li>
</ul>
<p>Making the parameters handle more types is a great way to get involved. Enter an issue and we can help you.</p>
</li>
<li><p class="first">Were errors generated during execution
If you make it this far the error is probably in the running of the genereated SAS code.
To investigate you can <cite>ERROR_LOG</cite> attribute on your <a href="#id3"><span class="problematic" id="id4">`SASResult`_</span></a> object.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">rf_model</span><span class="o">.</span><span class="n">ERROR_LOG</span>
</pre></div>
</div>
<p>The resulting output will the SAS log for that generated code. You will be able to see the SAS syntax and then
and error or warning messages in context.</p>
<p><strong>NOTE:</strong> If the <cite>ERROR_LOG</cite> doesn&#8217;t give you enough information to resolve your issue you can execute the
following code (assuming your session object is named <cite>sas</cite>)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">sas</span><span class="o">.</span><span class="n">saslog</span><span class="p">())</span>
</pre></div>
</div>
<p>This will output the SAS log for then entire session (since you last restarted the kernel or your initial connection)</p>
</li>
</ol>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="license.html" class="btn btn-neutral float-right" title="License" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="adding-procedures.html" class="btn btn-neutral" title="Contributing new methods" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017 SAS Institute Inc. All Rights Reserved..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>